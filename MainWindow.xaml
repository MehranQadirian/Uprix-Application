<Window x:Class="AppLauncher.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Uprix Launcher" Height="550" Width="950"
        WindowStartupLocation="CenterScreen"
        Background="White"
        PreviewKeyDown="Window_PreviewKeyDown"
        Loaded="Window_Loaded"
        SizeChanged="Window_SizeChanged" Icon="icon-base.ico">
    <Window.Resources>
        <Style TargetType="Button" x:Key="ModernTileButton">
            <Setter Property="Background" Value="White"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="SnapsToDevicePixels" Value="True"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border"
                        CornerRadius="14"
                        Background="{TemplateBinding Background}"
                        RenderTransformOrigin="0.5,0.5">
                            <Border.RenderTransform>
                                <ScaleTransform ScaleX="1" ScaleY="1"/>
                            </Border.RenderTransform>
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Trigger.EnterActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation To="1.1" Duration="0:0:0.25"
                                                     Storyboard.TargetName="border"
                                                     Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleX)">
                                                <DoubleAnimation.EasingFunction>
                                                    <QuadraticEase EasingMode="EaseOut"/>
                                                </DoubleAnimation.EasingFunction>
                                            </DoubleAnimation>
                                            <DoubleAnimation To="1.1" Duration="0:0:0.25"
                                                     Storyboard.TargetName="border"
                                                     Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleY)">
                                                <DoubleAnimation.EasingFunction>
                                                    <QuadraticEase EasingMode="EaseOut"/>
                                                </DoubleAnimation.EasingFunction>
                                            </DoubleAnimation>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.EnterActions>

                                <Trigger.ExitActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation To="1" Duration="0:0:0.25"
                                                     Storyboard.TargetName="border"
                                                     Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleX)">
                                                <DoubleAnimation.EasingFunction>
                                                    <QuadraticEase EasingMode="EaseOut"/>
                                                </DoubleAnimation.EasingFunction>
                                            </DoubleAnimation>
                                            <DoubleAnimation To="1" Duration="0:0:0.25"
                                                     Storyboard.TargetName="border"
                                                     Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleY)">
                                                <DoubleAnimation.EasingFunction>
                                                    <QuadraticEase EasingMode="EaseOut"/>
                                                </DoubleAnimation.EasingFunction>
                                            </DoubleAnimation>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.ExitActions>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style TargetType="Button" x:Key="ModernTileButtonSelected">
            <Setter Property="Background" Value="#0C0066"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="SnapsToDevicePixels" Value="True"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border"
                        CornerRadius="14"
                        RenderTransformOrigin="0.5,0.5" Background="#7FC2FF00">

                            <Border.RenderTransform>
                                <ScaleTransform ScaleX="1" ScaleY="1"/>
                            </Border.RenderTransform>
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            <VisualStateManager.VisualStateGroups>
                                <VisualStateGroup x:Name="CommonStates">
                                    <VisualState x:Name="Normal"/>
                                    <VisualState x:Name="MouseOver">
                                        <Storyboard>
                                            <DoubleAnimation To="1.1" Duration="0:0:0.25"
                                                     Storyboard.TargetName="border"
                                                     Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleX)"/>
                                            <DoubleAnimation To="1.1" Duration="0:0:0.25"
                                                     Storyboard.TargetName="border"
                                                     Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleY)"/>
                                        </Storyboard>
                                    </VisualState>
                                    <VisualState x:Name="Disabled"/>
                                </VisualStateGroup>
                            </VisualStateManager.VisualStateGroups>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="PathHoverStyle" TargetType="Path">
            <Style.Triggers>
                <DataTrigger Binding="{Binding IsMouseOver, RelativeSource={RelativeSource AncestorType=Button}}" 
                     Value="True">
                    <DataTrigger.EnterActions>
                        <BeginStoryboard>
                            <Storyboard>
                                <ColorAnimation To="#FF658500"
                                        Duration="0:0:0.3"
                                        Storyboard.TargetProperty="(Path.Fill).(SolidColorBrush.Color)"/>
                            </Storyboard>
                        </BeginStoryboard>
                    </DataTrigger.EnterActions>
                    <DataTrigger.ExitActions>
                        <BeginStoryboard>
                            <Storyboard>
                                <ColorAnimation To="#FF454A35"
                                        Duration="0:0:0.3"
                                        Storyboard.TargetProperty="(Path.Fill).(SolidColorBrush.Color)"/>
                            </Storyboard>
                        </BeginStoryboard>
                    </DataTrigger.ExitActions>
                </DataTrigger>
            </Style.Triggers>
        </Style>
        
        <Style TargetType="Button" x:Key="AnimatedNavButton">
            <Setter Property="Background" Value="#2E2E3E"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="SnapsToDevicePixels" Value="True"/>
            <Setter Property="RenderTransformOrigin" Value="0.5,0.5"/>
            <Setter Property="RenderTransform">
                <Setter.Value>
                    <ScaleTransform ScaleX="1" ScaleY="1"/>
                </Setter.Value>
            </Setter>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border" CornerRadius="50" Background="Transparent">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            <Border.Effect>
                                <DropShadowEffect x:Name="dropShadow" Color="#FF454a35" Opacity="0" ShadowDepth="0" BlurRadius="5"/>
                            </Border.Effect>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Trigger.EnterActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetName="dropShadow"
                                                             Storyboard.TargetProperty="Opacity"
                                                             To="0.5" Duration="0:0:0.1"/>
                                            
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.EnterActions>
                                <Trigger.ExitActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetName="dropShadow"
                                                             Storyboard.TargetProperty="Opacity"
                                                             To="0" Duration="0:0:0.1"/>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.ExitActions>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style TargetType="Button" x:Key="IconButton">
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border" CornerRadius="10" Background="{TemplateBinding Background}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            <Border.Effect>
                                <DropShadowEffect x:Name="dropShadow" Color="Black" Opacity="0.5" ShadowDepth="0" BlurRadius="1"/>
                            </Border.Effect>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Trigger.EnterActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetName="border"
                                                             Storyboard.TargetProperty="Opacity"
                                                             To="0.8" Duration="0:0:0.1"/>
                                            <DoubleAnimation Storyboard.TargetName="dropShadow"
                                                             Storyboard.TargetProperty="Opacity"
                                                             To="0.3" Duration="0:0:0.1"/>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.EnterActions>
                                <Trigger.ExitActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetName="border"
                                                             Storyboard.TargetProperty="Opacity"
                                                             To="1" Duration="0:0:0.1"/>
                                            <DoubleAnimation Storyboard.TargetName="dropShadow"
                                                             Storyboard.TargetProperty="Opacity"
                                                             To="0" Duration="0:0:0.1"/>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.ExitActions>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style TargetType="Button" x:Key="TextButton">
            <Setter Property="Background" Value="White"/>
            <Setter Property="Foreground" Value="Black"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border" CornerRadius="5" Background="{TemplateBinding Background}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            <Border.Effect>
                                <DropShadowEffect x:Name="dropShadow" Color="White" Opacity="0.5" ShadowDepth="0" BlurRadius="4"/>
                            </Border.Effect>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Trigger.EnterActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <ColorAnimation Storyboard.TargetName="border"
                                Storyboard.TargetProperty="(Border.Background).(SolidColorBrush.Color)"
                                To="#4C454A35" Duration="0:0:0.1"/>
                                            <DoubleAnimation Storyboard.TargetName="dropShadow"
                                 Storyboard.TargetProperty="Opacity"
                                 To="0.3" Duration="0:0:0.1"/>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.EnterActions>
                                <Trigger.ExitActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <ColorAnimation Storyboard.TargetName="border"
                                Storyboard.TargetProperty="(Border.Background).(SolidColorBrush.Color)"
                                To="White" Duration="0:0:0.1"/>
                                            <DoubleAnimation Storyboard.TargetName="dropShadow"
                                 Storyboard.TargetProperty="Opacity"
                                 To="0.2" Duration="0:0:0.1"/>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.ExitActions>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style TargetType="Border" x:Key="BorderSearchBox">
            <Setter Property="CornerRadius" Value="19"/>
        </Style>
        
        <Style TargetType="Border" x:Key="SimpleBorderSearchBox">
            <Setter Property="CornerRadius" Value="4"/>
        </Style>
    </Window.Resources>
    <Grid>
        <Canvas x:Name="ParticleCanvas" Background="#FFE9E9E9"/>

        <Grid Margin="10">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>
            <Border Grid.Row="0">
                <StackPanel  VerticalAlignment="Center">
                    <DockPanel  LastChildFill="True" Margin="5" HorizontalAlignment="Center" VerticalAlignment="Center">
                        <!-- Search Box -->
                        <Border DockPanel.Dock="Left" HorizontalAlignment="Center" VerticalAlignment="Center" Background="White"
                                Height="35" x:Name="brSearchBox" Style="{StaticResource BorderSearchBox}">
                            <Grid Margin="3.5" Width="400">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width='0.1*'/>
                                    <ColumnDefinition/>
                                    <ColumnDefinition Width="0.3*"/>
                                </Grid.ColumnDefinitions>
                                <Path Data="M480 272C480 317.9 465.1 360.3 440 394.7L566.6 521.4C579.1 533.9 579.1 554.2 566.6 566.7C554.1 579.2 533.8 579.2 521.3 566.7L394.7 440C360.3 465.1 317.9 480 272 480C157.1 480 64 386.9 64 272C64 157.1 157.1 64 272 64C386.9 64 480 157.1 480 272zM272 416C351.5 416 416 351.5 416 272C416 192.5 351.5 128 272 128C192.5 128 128 192.5 128 272C128 351.5 192.5 416 272 416z"
                                      Stretch="Uniform" Fill="#FF454a35" Margin="6"/>
                                <TextBlock Text="Search App..." Grid.Column="1" VerticalAlignment="Center" Foreground="DarkGray" Margin="5" FontFamily="Roboto"/>
                                <TextBox Grid.Column="1" Background="Transparent" VerticalContentAlignment="Center" FontFamily="Roboto"
                                         FontWeight="Bold" Foreground="#FF454A35" x:Name="SearchBox" Margin="5,0,0,0"
                                         TextChanged="SearchBox_TextChanged" SelectionBrush="#FFF9C52C" FontSize="18">
                                    <TextBox.Template>
                                        <ControlTemplate TargetType="TextBox">
                                            <Border CornerRadius="10" BorderBrush="Gray" BorderThickness="0" Background="{TemplateBinding Background}">
                                                <ScrollViewer Margin="0" x:Name="PART_ContentHost"/>
                                            </Border>
                                        </ControlTemplate>
                                    </TextBox.Template>
                                </TextBox>
                                <Border Grid.Column="2" Margin="3,0" Padding="2" CornerRadius="10" Background="#FFE9E9E9"
                                        VerticalAlignment="Center" HorizontalAlignment="Center">
                                    <TextBlock  x:Name="PageLabel"
                           Foreground="#FF454a35" Margin="10,0"
                           VerticalAlignment="Center"
                           FontSize="16" HorizontalAlignment="Right"
                            TextAlignment="Center"
                           Text="1 / 1"/>
                                </Border>
                                
                            </Grid>
                        </Border>

                    </DockPanel>
                </StackPanel>
            </Border>
            <ScrollViewer x:Name="Scroller"
                          Grid.Row="1"
                          VerticalScrollBarVisibility="Disabled"
                          HorizontalScrollBarVisibility="Disabled"
                          CanContentScroll="False">
                <Grid>
                    <WrapPanel x:Name="AppsPanel" Margin="5"
                               Orientation="Horizontal"
                               Width="auto"
                               Height="auto"
                               Visibility="Visible"/>
                </Grid>
            </ScrollViewer>

            <Grid Grid.Row="2" HorizontalAlignment="Stretch" Margin="0,14,0,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="0.2*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" VerticalAlignment="Center">
                    <Button x:Name="PrevBtn" Click="PrevBtn_Click" Width="35" Height="35" Margin="5"
                        Style="{StaticResource AnimatedNavButton}">
                        <Path Data="M576 320C576 178.6 461.4 64 320 64C178.6 64 64 178.6 64 320C64 461.4 178.6 576 320 576C461.4 576 576 461.4 576 320zM188.7 308.7L292.7 204.7C297.3 200.1 304.2 198.8 310.1 201.2C316 203.6 320 209.5 320 216L320 272L416 272C433.7 272 448 286.3 448 304L448 336C448 353.7 433.7 368 416 368L320 368L320 424C320 430.5 316.1 436.3 310.1 438.8C304.1 441.3 297.2 439.9 292.7 435.3L188.7 331.3C182.5 325.1 182.5 314.9 188.7 308.7z"
                          Stretch="Uniform" Fill="#FF454a35" Width="35" Height="35"
                              Style="{StaticResource PathHoverStyle}"/>
                    </Button>
                    <Button x:Name="NextBtn" Click="NextBtn_Click" Width="35" Height="35" Margin="5"
                        Style="{StaticResource AnimatedNavButton}">
                        <Path Data="M64 320C64 461.4 178.6 576 320 576C461.4 576 576 461.4 576 320C576 178.6 461.4 64 320 64C178.6 64 64 178.6 64 320zM451.3 331.3L347.3 435.3C342.7 439.9 335.8 441.2 329.9 438.8C324 436.4 320 430.5 320 424L320 368L224 368C206.3 368 192 353.7 192 336L192 304C192 286.3 206.3 272 224 272L320 272L320 216C320 209.5 323.9 203.7 329.9 201.2C335.9 198.7 342.8 200.1 347.3 204.7L451.3 308.7C457.5 314.9 457.5 325.1 451.3 331.3z"
                          Stretch="Uniform" Fill="#FF454a35" Width="35" Height="35" Style="{StaticResource PathHoverStyle}"/>
                    </Button>
                </StackPanel>
                
                <Button Grid.Column="1" x:Name="btnAboutUs" Width="70" Height="auto" Margin="5,5,5,5"
                        Style="{StaticResource TextButton}"
                        Content="About Us" HorizontalAlignment="Right"
                        ToolTip="Toggle between Modern and Classic Mode"
                        Click="BtnAboutUs_Click" FontFamily="Roboto"/>
            </Grid>
        </Grid>
    </Grid>
</Window>